---
layout: default
title: 首页
description: 免费 SSL 证书申请助手 - 支持 Let's Encrypt 和 ZeroSSL
---

<div class="wizard-container">
    <!-- 步骤指示器 -->
    {% include step-indicator.html %}

    <!-- 步骤 1: 输入域名 -->
    <div class="step-content" id="step-1" style="display: block;">
        <div class="step-card">
            <h2>步骤 1：输入您的域名</h2>
            <p class="step-description">请输入需要申请 SSL 证书的域名。支持单域名和通配符域名（如 *.example.com）。</p>

            <div class="form-group">
                <label for="domain-input">域名：</label>
                <div class="domain-input-wrapper">
                    <input type="text" id="domain-input" class="form-input" placeholder="example.com" autocomplete="off">
                    <button type="button" class="history-toggle-btn" id="history-toggle" title="查看历史记录">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 8V12L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M3.05 11H5C5 6.58172 8.58172 3 13 3C17.4183 3 21 6.58172 21 11C21 15.4183 17.4183 19 13 19C10.6131 19 8.5 17.8619 7.23693 16.1166" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M3 14L3.05 11L6.05 11.05" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                </div>
                <div class="domain-history" id="domain-history" style="display: none;">
                    <div class="history-header">
                        <span class="history-title">历史记录</span>
                        <button type="button" class="clear-history-btn" onclick="clearDomainHistory()">清空</button>
                    </div>
                    <ul class="history-list" id="history-list">
                        <!-- 历史记录将动态加载到这里 -->
                    </ul>
                </div>
                <p class="input-hint">支持格式：example.com、www.example.com、*.example.com</p>
                <p class="error-message" id="domain-error" style="display: none;"></p>

                <!-- SSL证书有效期检测结果 -->
                <div class="ssl-cert-info" id="ssl-cert-info" style="display: none;">
                    <div class="cert-info-header">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 2L3 7v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-9-5z" stroke="currentColor" stroke-width="2" fill="none"/>
                            <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span class="cert-info-title">SSL证书信息</span>
                    </div>
                    <div class="cert-info-content">
                        <div class="cert-info-item">
                            <span class="cert-label">颁发者：</span>
                            <span class="cert-value" id="cert-issuer">-</span>
                        </div>
                        <div class="cert-info-item">
                            <span class="cert-label">有效期至：</span>
                            <span class="cert-value" id="cert-expiry">-</span>
                        </div>
                        <div class="cert-info-item">
                            <span class="cert-label">剩余天数：</span>
                            <span class="cert-value cert-days" id="cert-days">-</span>
                        </div>
                    </div>
                    <div class="cert-info-note">
                        💡 提示：证书信息来自多个检测源（MySSL、站长工具、crt.sh），自动选择最快的响应。
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="acme-provider">ACME CA 提供商：</label>
                <select id="acme-provider" class="form-select">
                    <option value="letsencrypt" selected>Let's Encrypt（推荐）</option>
                    <option value="zerossl">ZeroSSL</option>
                    <option value="buypass">Buypass</option>
                    <option value="google">Google Trust Services</option>
                </select>
                <p class="input-hint">Let's Encrypt 是全球最流行的免费 SSL 证书服务</p>
            </div>

            <div class="ca-info-box">
                <h4>关于 Let's Encrypt</h4>
                <ul>
                    <li>完全免费，自动化颁发</li>
                    <li>受所有主流浏览器信任</li>
                    <li>证书有效期 90 天，支持自动续期</li>
                    <li>支持单域名、多域名和通配符证书</li>
                </ul>
            </div>

            <div class="ca-info-box" style="background: #fef2f2; border-left: 4px solid #ef4444;">
                <h4 style="color: #ef4444;">⚠️ ACME 协议重要特性</h4>
                <p style="margin-bottom: 8px; color: #991b1b;"><strong>每次申请/续期证书时，验证数据都会改变：</strong></p>
                <ul style="color: #991b1b;">
                    <li><strong>HTTP-01 验证：</strong>文件名和内容每次不同（CA 服务器随机生成 token）</li>
                    <li><strong>DNS-01 验证：</strong>TXT 记录值每次不同（基于随机 token 计算）</li>
                    <li><strong>原因：</strong>这是 ACME 协议的安全设计，无法绕过</li>
                    <li><strong>建议：</strong>使用 Certbot 或 acme.sh 等工具实现自动续期</li>
                </ul>
                <p style="margin-top: 8px; font-size: 14px; color: #7f1d1d;">💡 本工具适合首次申请或学习 ACME 流程，生产环境建议使用自动化工具</p>
            </div>

            <div class="button-group">
                <button class="btn btn-primary" onclick="nextStep(1)">下一步</button>
            </div>
        </div>
    </div>

    <!-- 步骤 2: 选择验证方式 -->
    <div class="step-content" id="step-2" style="display: none;">
        <div class="step-card">
            <h2>步骤 2：选择域名验证方式</h2>
            <p class="step-description">请选择以下任一验证方式来证明您对域名 <strong><span class="domain-display"></span></strong> 的所有权。</p>

            <div class="verification-options">
                <div class="verification-option" data-method="webserver">
                    <input type="radio" id="method-webserver" name="verification-method" value="webserver" checked>
                    <label for="method-webserver">
                        <div class="option-header">
                            <svg class="option-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
                                <path d="M3 9H21" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <span class="option-title">Web 服务器验证（HTTP-01）</span>
                        </div>
                        <p class="option-description">在您的 Web 服务器上放置验证文件</p>
                        <p class="option-suitable">适用于：有公网可访问的 Web 服务器</p>
                    </label>
                </div>

                <div class="verification-option" data-method="dns">
                    <input type="radio" id="method-dns" name="verification-method" value="dns">
                    <label for="method-dns">
                        <div class="option-header">
                            <svg class="option-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                                <path d="M12 2C12 2 17 7 17 12C17 17 12 22 12 22" stroke="currentColor" stroke-width="2"/>
                                <path d="M2 12H22" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <span class="option-title">DNS 解析验证（DNS-01）</span>
                        </div>
                        <p class="option-description">在域名 DNS 中添加 TXT 记录</p>
                        <p class="option-suitable">适用于：无法配置 Web 服务器或需要通配符证书</p>
                    </label>
                </div>
            </div>

            <div class="verification-details" id="verification-details">
                <!-- 验证方式详细说明将动态加载到这里 -->
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevStep(2)">上一步</button>
                <button class="btn btn-primary" onclick="nextStep(2)">下一步</button>
            </div>
        </div>
    </div>

    <!-- 步骤 3: 自动验证 -->
    <div class="step-content" id="step-3" style="display: none;">
        <div class="step-card">
            <h2>步骤 3：自动验证配置</h2>
            <p class="step-description">系统将自动验证您的配置是否正确。</p>

            <!-- 验证信息摘要 -->
            <div class="verification-summary">
                <h3>验证信息：</h3>
                <div class="summary-item">
                    <strong>域名：</strong>
                    <span class="domain-display"></span>
                </div>
                <div class="summary-item">
                    <strong>验证方式：</strong>
                    <span id="verification-method-display"></span>
                </div>
                <div class="summary-item" id="verification-target-container">
                    <strong id="verification-target-label">验证目标：</strong>
                    <span id="verification-target-value"></span>
                </div>
            </div>

            <!-- DNS 记录添加说明 -->
            <div class="dns-instruction-box" id="dns-instruction-box" style="display: none;">
                <h4>📋 DNS 记录添加说明</h4>
                <p>请在您的 DNS 服务商控制台添加以下 TXT 记录：</p>
                <table class="dns-instruction-table">
                    <tr>
                        <td class="label">完整记录名：</td>
                        <td class="value"><code id="dns-full-record">_acme-challenge.example.com</code></td>
                    </tr>
                    <tr>
                        <td class="label">记录类型：</td>
                        <td class="value"><code>TXT</code></td>
                    </tr>
                    <tr>
                        <td class="label">记录值：</td>
                        <td class="value"><code id="dns-record-value">xxxxx</code></td>
                    </tr>
                </table>
                <p class="dns-instruction-note">
                    <strong>注意：</strong>某些 DNS 服务商可能会自动添加域名后缀，请根据实际情况调整主机记录。<br>
                    例如：如果域名是 <code>test.tannn.cn</code>，有些服务商需要填写 <code>_acme-challenge.test</code>，有些需要填写 <code>_acme-challenge.test.tannn.cn</code>
                </p>
            </div>

            <!-- 验证状态显示区域 -->
            <div class="verification-status" id="verification-status">
                <div class="status-pending">
                    <svg class="status-icon rotating" width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" opacity="0.25"/>
                        <path d="M12 2 A10 10 0 0 1 22 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                    <h3>等待开始验证...</h3>
                    <p>请点击"开始验证"按钮</p>
                </div>
            </div>

            <!-- 验证详情（可展开） -->
            <div class="verification-details-box" id="verification-details-box" style="display: none;">
                <h4>验证详情：</h4>
                <div class="verification-log" id="verification-log"></div>
            </div>

            <div class="info-box">
                <svg class="info-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <path d="M12 16V12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="12" cy="8" r="1" fill="currentColor"/>
                </svg>
                <div class="info-content">
                    <strong>关于验证：</strong>
                    <p><strong>Web 服务器验证：</strong>系统会尝试通过 HTTP 访问验证文件。</p>
                    <p><strong>DNS 验证：</strong>系统会查询 DNS TXT 记录（使用公共 DNS 服务器）。</p>
                    <p class="note">注意：由于浏览器的 CORS 限制，HTTP 验证可能无法直接执行。DNS 验证可通过 DoH (DNS over HTTPS) 实现。</p>
                    <p class="note">确保权限<code> chmod -R 755 /.well-known/acme-challenge/</code></p>
                </div>
            </div>

            <!-- DNS 服务商选择 -->
            <div class="dns-provider-selection" id="dns-provider-selection" style="display: none;">
                <h4>DNS 查询服务：</h4>
                <div class="dns-provider-options">
                    <label class="dns-provider-option">
                        <input type="radio" name="dns-provider" value="alidns" checked>
                        <div class="provider-info">
                            <span class="provider-name">阿里云 DNS</span>
                            <span class="provider-desc">推荐中国大陆用户使用</span>
                        </div>
                    </label>
                    <label class="dns-provider-option">
                        <input type="radio" name="dns-provider" value="dnspod">
                        <div class="provider-info">
                            <span class="provider-name">腾讯云 DNSPod</span>
                            <span class="provider-desc">国内访问快速稳定</span>
                        </div>
                    </label>
                    <label class="dns-provider-option">
                        <input type="radio" name="dns-provider" value="cloudflare">
                        <div class="provider-info">
                            <span class="provider-name">Cloudflare DNS</span>
                            <span class="provider-desc">全球可用，速度较快</span>
                        </div>
                    </label>
                    <label class="dns-provider-option">
                        <input type="radio" name="dns-provider" value="google">
                        <div class="provider-info">
                            <span class="provider-name">Google DNS</span>
                            <span class="provider-desc">国外用户推荐</span>
                        </div>
                    </label>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevStep(3)">上一步</button>
                <button class="btn btn-primary" onclick="startVerification()" id="verify-start-button">开始验证</button>
                <button class="btn btn-primary" onclick="nextStep(3)" id="verify-continue-button" style="display: none;">继续下一步</button>
            </div>
        </div>
    </div>

    <!-- 步骤 4: 选择证书格式 -->
    <div class="step-content" id="step-4" style="display: none;">
        <div class="step-card">
            <h2>步骤 4：选择证书格式</h2>
            <p class="step-description">根据您的服务器类型，选择对应的证书格式。</p>

            <div class="cert-format-options">
                {% for format in site.data.cert_formats.formats %}
                <div class="cert-format-option" data-format="{{ format.id }}">
                    <input type="radio" id="format-{{ format.id }}" name="cert-format" value="{{ format.id }}">
                    <label for="format-{{ format.id }}">
                        <div class="format-header">
                            <span class="format-name">{{ format.name }}</span>
                        </div>
                        <p class="format-description">{{ format.description }}</p>
                        <div class="format-files">
                            <strong>文件列表：</strong>
                            <ul>
                                {% for file in format.files %}
                                <li><code>{{ file.name }}</code> - {{ file.description }}</li>
                                {% endfor %}
                            </ul>
                        </div>
                    </label>
                </div>
                {% endfor %}
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevStep(4)">上一步</button>
                <!-- 选择格式后会自动跳转，不需要下一步按钮 -->
            </div>
        </div>
    </div>

    <!-- 步骤 5: 下载证书和安装指南 -->
    <div class="step-content" id="step-5" style="display: none;">
        <div class="step-card">
            <h2>步骤 5：证书安装指南</h2>
            <p class="step-description">恭喜！以下是您选择的 <strong><span id="selected-format-name"></span></strong> 格式的安装指南。</p>

            <div class="success-box">
                <svg class="success-icon" width="48" height="48" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <path d="M8 12L11 15L16 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
                <h3>证书申请流程已完成！</h3>
                <p>域名：<strong><span class="domain-display"></span></strong></p>
                <p>验证方式：<strong><span id="selected-method-name"></span></strong></p>
                <p>证书格式：<strong><span id="selected-format-display"></span></strong></p>
            </div>

            <!-- 证书下载区域 -->
            <div class="cert-download-box">
                <h3>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <polyline points="7 10 12 15 17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    下载证书文件
                </h3>
                <p class="download-description">根据您选择的格式，下载相应的证书文件</p>

                <div class="cert-files-list" id="cert-files-list">
                    <!-- 证书文件列表将动态生成 -->
                </div>

                <div class="download-all-section">
                    <button class="btn btn-primary btn-download-all" onclick="downloadAllCertificates()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <polyline points="7 10 12 15 17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        下载所有证书文件（ZIP）
                    </button>
                </div>
            </div>

            <div class="installation-guide" id="installation-guide">
                <!-- 安装指南将动态加载到这里 -->
            </div>

            <div class="info-box">
                <svg class="info-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                    <path d="M12 16V12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    <circle cx="12" cy="8" r="1" fill="currentColor"/>
                </svg>
                <div class="info-content">
                    <strong>证书续期提醒：</strong>
                    <p>Let's Encrypt 证书有效期为 90 天，建议在到期前 30 天进行续期。使用 Certbot 或 acme.sh 可以自动续期。</p>
                </div>
            </div>

            <div class="button-group">
                <button class="btn btn-secondary" onclick="prevStep(5)">上一步</button>
                <button class="btn btn-primary" onclick="restartWizard()">重新申请</button>
            </div>
        </div>
    </div>
</div>

<!-- 隐藏的验证方式模板 -->
<div style="display: none;">
    <div id="webserver-template">
        {% include verification-webserver.html %}
    </div>
    <div id="dns-template">
        {% include verification-dns.html %}
    </div>
</div>

<!-- 隐藏的证书安装指南数据 -->
<script id="cert-formats-data" type="application/json">
{{ site.data.cert_formats | jsonify }}
</script>
